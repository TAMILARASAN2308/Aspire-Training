<!-- Title : FLIGHT BOOKING
Author : TAMILARASAN M
Created At : 24-05-2024
Last Modified Date : 08-07-2024
Reviewed By :
Review Date : -->

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
     <script src="/js/script.js" defer></script>
    <title>Added Flights</title>
  </head>
  <body class="Home">
    <nav>
      <div class="nav__logo">FLIGHT BOOKING</div>
      <ul class="nav__links">
        <li class="link"><a href="/admin">Home</a></li>
          <li class="link"><a href="/addflights">Add Flights</a></li>
          <li class="link"><a href="#">Added Flights</a></li>
          <li class="link"><a href="/bookingsdetails">Bookings Details </a></li>
         
      </ul>
      <a href="/login"><button class="btn">LOGOUT</button></a>
    </nav>
    <hr>
    <table class="myBooking">
      {{#each flights}}
      <tr data-id="{{this.ID}}">
        <td>
          <div>
            <p>From</p>
            <h3 id="new_from">{{this.FROM_LOCATION}}</h3>
          </div>
        </td>
        <td>
          <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="50px" viewBox="0 0 25 25">
              <path style="fill:#000" d="m17.5 5.999-.707.707 5.293 5.293H1v1h21.086l-5.294 5.295.707.707L24 12.499l-6.5-6.5z" data-name="Right"/>
            </svg>
          </div>
        </td>
        <td>
          <div>
            <p>To</p>
            <h3 id="new_to">{{this.TO_LOCATION}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Depart Date</p>
            <h3 id="new_departure">{{this.DEPARTURE_DATE}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Return Date</p>
            <h3 id="new_return">{{this.RETURN_DATE}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Departure Time</p>
            <h3>{{this.DEPARTURE_TIME}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Arrival Time</p>
            <h3 >{{this.ARRIVAL_TIME}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Flight Name</p>
            <h3>{{this.FLIGHT_NAME}}</h3>
          </div>
        </td>
        <td>
          <div>
            <p>Price</p>
            <h3>{{this.TICKET_PRICE}}</h3>
          </div>
        </td>
        <td>
          <form action="/addedflights/delete/{{this.ID}}" method="POST" class="delete-form" style="display:inline;">
            <button type="submit" class="mybookings_cancel">Delete Flight</button>
          </form>
        </td>
      </tr>
      {{/each}}
    </table>
  </body>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
  const departureDates = document.querySelectorAll("#new_departure");
  const returnDates = document.querySelectorAll("#new_return");

  // Format each date
  departureDates.forEach((element) => {
    const originalDate = new Date(element.textContent);
    element.textContent = originalDate.toLocaleDateString('en-GB'); // Use 'en-GB' for DD/MM/YYYY format or customize as needed
  });

  returnDates.forEach((element) => {
    const originalDate = new Date(element.textContent);
    element.textContent = originalDate.toLocaleDateString('en-GB');
  });
});

</script>
</html>
